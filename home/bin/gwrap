#!/bin/sh
# Create an environment for glibc applications to run (without root permissions)

# Make sure we have a command to execute
[ "$*" ] || {
	printf '%s\n' "Missing command to execute" 1>&2
	exit 1
}

export DWRAP_DISTRO="gentoo-glibc"

export DWRAP_FROM_HOST="dev home media mnt proc root run sys"
export DWRAP_FROM_ROOTFS="bin etc lib lib64 opt sbin tmp usr var"

#case $1 in --rootfs-run|-r)
#	shift
#
#	export DWRAP_FROM_HOST="dev home proc sys"
#	export DWRAP_FROM_ROOTFS="bin etc lib lib64 opt run sbin tmp usr var"
#
#	exec dwrap --dev-bind /run/NetworkManager/resolv.conf /resolv.conf "$@"
#;; esac

exec dwrap "$@"
